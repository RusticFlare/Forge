require 'treetop'
Treetop.load 'PATH_TO/grammar/forge_grammar.tt'

parser = ForgeGrammarParser.new

define :apply_mods_2 do |anvil|
  case anvil[:name]
  when :list
    anvil[:content].each do |element|
      apply_mods element
    end
    anvil[:content].each_index do |list_index|
      element = anvil[:content][list_index]
      puts element
      element[:mods].each_index do |mod_index|
      end
    end
  end
end

anvil = parser.parse("1/2 2").content
puts anvil
apply_mods anvil
puts anvil